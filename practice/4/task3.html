<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Task.3 - SwitchButton enhanced</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="task3.js"></script>
    <script language="javascript">
        function runTask3() {
            window.localStorage.removeItem("engineTypeButton_SwitchButton");
            window.localStorage.removeItem("singleChoiseButton_SwitchButton");
            window.localStorage.setItem("bloodGroupButton_SwitchButton", "B");
            SwitchButton.createButtons();
            var engineTypeButton = document.getElementById("engineTypeButton").firstChild;
            assertEqual("electricity", engineTypeButton.textContent, "Case #0: getValue()");
            engineTypeButton.click();
            assertEqual("any", engineTypeButton.textContent, "Case #0: switchValue() on click //1");
            engineTypeButton.click();
            assertEqual("diesel", engineTypeButton.textContent, "Case #0: switchValue() on click //2");
            var singleChoiseButton = document.getElementById("singleChoiseButton").firstChild;
            assertEqual("uno", singleChoiseButton.textContent, "Case #1: getValue()");
            singleChoiseButton.click();
            assertEqual("uno", singleChoiseButton.textContent, "Case #1: switchValue() on click");
            var bloodGroupButton = document.getElementById("bloodGroupButton").firstChild;
            assertEqual("B", bloodGroupButton.textContent, "Case #2: getValue()");
            var noneButton = document.getElementById("noneButton");
            assertEqual("None", noneButton.textContent, "Case #3: getValue()");
        }
        function assertEqual(expectedVal, actualVal, message) {
            if(expectedVal == actualVal) {
                console.log("+", message);
            }
            else {
                console.error("-", message, "(Expected:", expectedVal, "; Actual:", actualVal, ")");
            }
        }

        if (document.loaded) {
            runTask3();
        } else {
            window.addEventListener('load', runTask3);
        }
    </script>
</head>
<body>

<p>
    Button 1: <div id="engineTypeButton" style="display: inline"
                   data-widget="SwitchButton"
                   data-options="any;diesel;gasoline;electricity"
                   data-default-value="electricity"></div>
</p>
<p>
    Button 2: <div id="singleChoiseButton" style="display: inline"
                   data-widget="SwitchButton"
                   data-options="uno"></div>
</p>
<p>
    Button 3: <div id="bloodGroupButton" style="display: inline"
                   data-widget="SwitchButton"
                   data-options="0;A;B;AB"></div>
</p>
<p>
    Button 4: <div id="noneButton" style="display: inline"
                   data-widget="SwitchButton"></div>
</p>

</body>
</html>